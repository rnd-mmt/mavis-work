<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

<header t-name="Menu">
    <nav class="o_main_navbar">
        <ul class="o_menu_apps"/>
        <a class="o_menu_brand" role="button"/>
        <ul class="o_menu_sections" role="menu"/>
        <ul class="o_menu_systray" role="menu"/>
    </nav>
</header>

<!--
    @param {web.AppsMenu} widget
-->
<t t-name="AppsMenu">
    <li class="dropdown">
        <a class="full" data-toggle="dropdown" data-display="static" href="#" accesskey="h">
            <!--i class="fa fa-th-large"/-->
            <svg width="24" height="24" viewBox="0 0 20 20" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.92186 0H0.69931C0.513866 8.16751e-05 0.336041 0.0737849 0.204913 0.204913C0.0737849 0.336041 8.16751e-05 0.513866 0 0.699309V3.92125C8.16751e-05 4.10669 0.0737849 4.28452 0.204913 4.41564C0.336041 4.54677 0.513866 4.62047 0.69931 4.62056H3.92156C4.107 4.62047 4.28482 4.54677 4.41595 4.41564C4.54708 4.28452 4.62078 4.10669 4.62087 3.92125V0.699618C4.62091 0.607783 4.60286 0.516839 4.56775 0.43198C4.53265 0.34712 4.48117 0.270007 4.41626 0.205041C4.35135 0.140076 4.27428 0.0885305 4.18946 0.0533495C4.10463 0.0181686 4.0137 4.04647e-05 3.92186 0Z"
                              class="logo-bg-secondary" fill="#fcfcfd"/>
                        <path d="M11.6109 0H8.38864C8.2032 8.16751e-05 8.02537 0.0737849 7.89424 0.204913C7.76312 0.336041 7.68941 0.513866 7.68933 0.699309V3.92125C7.68941 4.10669 7.76312 4.28452 7.89424 4.41564C8.02537 4.54677 8.2032 4.62047 8.38864 4.62056H11.6109C11.7963 4.62047 11.9742 4.54677 12.1053 4.41564C12.2364 4.28452 12.3101 4.10669 12.3102 3.92125V0.699618C12.3102 0.607757 12.2922 0.516788 12.2571 0.431909C12.2219 0.347029 12.1704 0.269901 12.1055 0.204932C12.0405 0.139962 11.9634 0.0884242 11.8786 0.0532614C11.7937 0.0180985 11.7027 -8.92134e-09 11.6109 0Z"
                              class="logo-bg-secondary" fill="#fcfcfd"/>
                        <path d="M20 0.69931C19.9999 0.513866 19.9262 0.336041 19.795 0.204913C19.6639 0.0737849 19.4861 8.16751e-05 19.3006 0H16.0781C15.8926 8.16751e-05 15.7148 0.0737849 15.5837 0.204913C15.4526 0.336041 15.3789 0.513866 15.3788 0.69931V3.92156C15.3788 4.10705 15.4525 4.28496 15.5836 4.41615C15.7147 4.54735 15.8926 4.62109 16.0781 4.62117H19.3003C19.4858 4.62109 19.6636 4.54739 19.7947 4.41626C19.9259 4.28513 19.9996 4.10731 19.9996 3.92186V0.69931H20Z"
                              class="logo-bg-primary" fill="#3e4956"/>
                        <path d="M3.92186 7.69049H0.69931C0.513866 7.69057 0.336041 7.76428 0.204913 7.8954C0.0737849 8.02653 8.16751e-05 8.20436 0 8.3898V11.612C8.16751e-05 11.7975 0.0737849 11.9753 0.204913 12.1064C0.336041 12.2376 0.513866 12.3113 0.69931 12.3114H3.92156C4.107 12.3113 4.28482 12.2376 4.41595 12.1064C4.54708 11.9753 4.62078 11.7975 4.62087 11.612V8.39011C4.62091 8.29827 4.60286 8.20733 4.56775 8.12247C4.53265 8.03761 4.48117 7.9605 4.41626 7.89553C4.35135 7.83057 4.27428 7.77902 4.18946 7.74384C4.10463 7.70866 4.0137 7.69053 3.92186 7.69049Z"
                              class="logo-bg-secondary" fill="#fcfcfd"/>
                        <path d="M11.6109 7.69049H8.38864C8.2032 7.69057 8.02537 7.76428 7.89424 7.8954C7.76312 8.02653 7.68941 8.20436 7.68933 8.3898V11.612C7.68941 11.7975 7.76312 11.9753 7.89424 12.1064C8.02537 12.2376 8.2032 12.3113 8.38864 12.3114H11.6109C11.7963 12.3113 11.9742 12.2376 12.1053 12.1064C12.2364 11.9753 12.3101 11.7975 12.3102 11.612V8.39011C12.3102 8.29825 12.2922 8.20728 12.2571 8.1224C12.2219 8.03752 12.1704 7.96039 12.1055 7.89542C12.0405 7.83045 11.9634 7.77891 11.8786 7.74375C11.7937 7.70859 11.7027 7.69049 11.6109 7.69049Z"
                              class="logo-bg-secondary" fill="#fcfcfd"/>
                        <path d="M19.3006 7.69049H16.0781C15.8926 7.69057 15.7148 7.76428 15.5837 7.8954C15.4526 8.02653 15.3789 8.20436 15.3788 8.3898V11.612C15.3788 11.7975 15.4525 11.9754 15.5836 12.1066C15.7147 12.2378 15.8926 12.3116 16.0781 12.3117H19.3003C19.4858 12.3116 19.6636 12.2379 19.7947 12.1068C19.9259 11.9756 19.9996 11.7978 19.9996 11.6124V8.39011C19.9997 8.29827 19.9816 8.20733 19.9465 8.12247C19.9114 8.03761 19.86 7.9605 19.795 7.89553C19.7301 7.83057 19.6531 7.77902 19.5682 7.74384C19.4834 7.70866 19.3925 7.69053 19.3006 7.69049Z"
                              class="logo-bg-primary" fill="#3e4956"/>
                        <path d="M3.92186 15.3796H0.69931C0.513866 15.3797 0.336041 15.4534 0.204913 15.5846C0.0737849 15.7157 8.16751e-05 15.8935 0 16.0789V19.3009C8.16751e-05 19.4863 0.0737849 19.6642 0.204913 19.7953C0.336041 19.9264 0.513866 20.0001 0.69931 20.0002H3.92156C4.107 20.0001 4.28482 19.9264 4.41595 19.7953C4.54708 19.6642 4.62078 19.4863 4.62087 19.3009V16.0789C4.62091 15.9871 4.60286 15.8962 4.56775 15.8114C4.53264 15.7265 4.48115 15.6494 4.41624 15.5845C4.35133 15.5195 4.27426 15.468 4.18943 15.4329C4.1046 15.3977 4.01368 15.3796 3.92186 15.3796Z"
                              class="logo-bg-secondary" fill="#fcfcfd"/>
                        <path d="M11.6109 15.3796H8.38864C8.2032 15.3797 8.02537 15.4534 7.89424 15.5846C7.76312 15.7157 7.68941 15.8935 7.68933 16.0789V19.3009C7.68941 19.4863 7.76312 19.6642 7.89424 19.7953C8.02537 19.9264 8.2032 20.0001 8.38864 20.0002H11.6109C11.7963 20.0001 11.9742 19.9264 12.1053 19.7953C12.2364 19.6642 12.3101 19.4863 12.3102 19.3009V16.0789C12.3102 15.8935 12.2365 15.7156 12.1054 15.5845C11.9742 15.4533 11.7964 15.3796 11.6109 15.3796Z"
                              class="logo-bg-primary" fill="#3e4956"/>
                        <path d="M19.3006 15.3796H16.0781C15.8926 15.3797 15.7148 15.4534 15.5837 15.5846C15.4526 15.7157 15.3789 15.8935 15.3788 16.0789V19.3009C15.3788 19.4864 15.4525 19.6643 15.5836 19.7955C15.7147 19.9267 15.8926 20.0004 16.0781 20.0005H19.3003C19.4858 20.0004 19.6636 19.9267 19.7947 19.7956C19.9259 19.6645 19.9996 19.4866 19.9996 19.3012V16.0789C19.9997 15.9871 19.9816 15.8962 19.9465 15.8114C19.9114 15.7265 19.8599 15.6494 19.795 15.5845C19.7301 15.5195 19.653 15.468 19.5682 15.4329C19.4834 15.3977 19.3925 15.3796 19.3006 15.3796Z"
                              class="logo-bg-primary" fill="#3e4956"/>
	       </svg>
        </a>
        <div class="dropdown-menu" role="menu">
            <t t-foreach="widget.getApps()" t-as="app">
            <a role="menuitem" t-attf-href="#menu_id=#{app.menuID}"
                class="dropdown-item o_app"
                t-att-data-menu-id="app.menuID"
                t-att-data-menu-xmlid="app.xmlID"
                t-att-data-action-id="app.actionID">
                    <t t-esc="app.name"/>
                </a>
            </t>
        </div>
    </li>
</t>

<t t-name="Menu.link">
    <t t-set="depth" t-value="(depth || 0) + 1"/>

    <t t-if="!menu.children.length">
        <t t-set="_link">
            <a role="menuitem" t-attf-href="#menu_id=#{menu.id}&amp;action=#{menu.action ? menu.action.split(',')[1] : ''}"
                t-att-data-menu="menu.id"
                t-att-data-action-model="menu.action ? menu.action.split(',')[0] : ''"
                t-att-data-action-id="menu.action ? menu.action.split(',')[1] : ''"
                t-att-data-menu-xmlid="menu.xmlid"
                t-attf-class="#{inNavbar ? '' : 'dropdown-item '}o_menu_entry_lvl_#{depth}"
                data-toggle="collapse" data-target="#o_navbar_collapse.in">
                <span><t t-esc="menu.name"/></span>
            </a>
        </t>
        <li t-if="inNavbar">
            <t t-raw="_link"/>
        </li>
        <t t-else="">
            <t t-raw="_link"/>
        </t>
    </t>
    <t t-else="">
        <div t-attf-class="dropdown-header o_menu_header_lvl_#{depth}">
            <span><t t-esc="menu.name"/></span>
        </div>
        <t t-foreach="menu.children" t-as="menu">
            <t t-call="Menu.link"/>
        </t>
    </t>
</t>

<!-- separate first level dropdown from the others to avoid nested dropdown -->
<t t-name="Menu.sections">
    <t t-foreach="menu_data.children" t-as="first_level_menu">
        <section t-att-class="first_level_menu.id">
            <t t-foreach="first_level_menu.children" t-as="second_level_menu">
                <t t-if="!second_level_menu.children.length">
                    <t t-call="Menu.link">
                        <t t-set="inNavbar" t-value="true"/>
                        <t t-set="menu" t-value="second_level_menu"/>
                    </t>
                </t>
                <t t-else="">
                    <li>
                        <a href="#" class="dropdown-toggle o-no-caret o_menu_header_lvl_1" t-att-data-menu-xmlid="second_level_menu.xmlid" data-toggle="dropdown" data-display="static" role="button" aria-expanded="false">
                            <t t-esc="second_level_menu.name"/>
                        </a>
                        <div class="dropdown-menu" role="menu">
                            <t t-foreach="second_level_menu.children" t-as="third_level_menu">
                                <t t-call="Menu.link">
                                    <t t-set="depth" t-value="1"/>
                                    <t t-set="menu" t-value="third_level_menu"/>
                                </t>
                            </t>
                        </div>
                    </li>
                </t>
            </t>
        </section>
    </t>
</t>

<t t-extend="UserMenu.Actions">
    <t t-jquery=".dropdown-divider" t-operation="before">
        <a role="menuitem" href="#" data-menu="shortcuts" class="dropdown-item d-none d-md-inline-block">Shortcuts</a>
    </t>
</t>

<div t-name="UserMenu.shortcuts">
    <div class="container-fluid">
        <div class="row">
            <div class="offset-md-2 col-md-8">
                <table class="o_shortcut_table text-center">
                    <thead>
                        <tr>
                            <th style="width:50%;">Description</th>
                            <th style="width:25%;" class="text-center">Windows/Linux</th>
                            <th style="width:25%;" class="text-center">Mac</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td align="left">Save a record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">s</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">s</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Edit a record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">a</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">a</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Discard a record modification</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">j</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">j</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Create a new record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">c</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">c</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open to list view</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">l</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">l</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open to kanban view</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">k</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">k</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open the previous record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">p</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">p</span>
                            </td>
                        </tr>
                        <tr>
                            <td align="left">Open the next record</td>
                            <td>
                                <span class="o_key">Alt</span> + <span class="o_key">n</span>
                            </td>
                            <td>
                                <span class="o_key">Control</span> + <span class="o_key">Alt</span> + <span class="o_key">n</span>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<t t-extend="FormSelection">
    <t t-jquery=".dropdown-menu.state">$(this).addClass("dropdown-menu-right");</t>
</t>

</templates>
